<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>Statistics App (L3)</title>
  <link rel="stylesheet" href="/src/styles/styles.css">
  </head>
  <body>
    <div id="app">
      <header>
        <h1>Statistics Calculator (L3 App)</h1>
      </header>

      <main>
        <section class="input">
          <label for="dataInput">Enter numbers (comma separated):</label>
          <input id="dataInput" type="text" placeholder="e.g. 1,2,3,4,5" />
          <div class="row">
            <div class="buttons">
              <button id="calcBtn">Calculate</button>
              <button id="clearBtn">Clear</button>
            </div>
            <div class="file">
              <label for="fileInput" class="fileLabel">Upload CSV</label>
              <input id="fileInput" type="file" accept="text/csv" />
            </div>
          </div>
        </section>

        <section class="controls">
          <div class="history">
            <h3>Datasets</h3>
            <select id="datasetList" size="5"></select>
            <div class="historyButtons">
              <button id="useSelected">Use selected</button>
              <button id="exportBtn">Export JSON</button>
            </div>
          </div>

          <div class="metrics">
            <h3>Metrics</h3>
            <label><input type="checkbox" data-metric="count" checked /> Count</label>
            <label><input type="checkbox" data-metric="sum" checked /> Sum</label>
            <label><input type="checkbox" data-metric="sumOfSquares" /> Sum of Squares</label>
            <label><input type="checkbox" data-metric="product" /> Product</label>
            <label><input type="checkbox" data-metric="mean" checked /> Mean</label>
            <label><input type="checkbox" data-metric="meanAbsolute" /> Mean Absolute</label>
            <label><input type="checkbox" data-metric="median" checked /> Median</label>
            <label><input type="checkbox" data-metric="mode" /> Mode</label>
            <label><input type="checkbox" data-metric="min" /> Min</label>
            <label><input type="checkbox" data-metric="max" /> Max</label>
            <label><input type="checkbox" data-metric="range" /> Range</label>
            <label><input type="checkbox" data-metric="variance" /> Variance</label>
            <label><input type="checkbox" data-metric="stdDev" checked /> Std Dev</label>
            <label><input type="checkbox" data-metric="iqr" checked /> IQR</label>
            <label><input type="checkbox" data-metric="happinessIndex" /> Happiness Index</label>

            <div class="percentile">
              <label for="percentileInput">Percentile (0-100):</label>
              <input id="percentileInput" type="number" min="0" max="100" value="50" />
              <button id="percentileBtn">Show Percentile</button>
            </div>
          </div>
        </section>

        <section class="results" id="results">
          <!-- Results injected by view -->
          <canvas id="histogramCanvas" width="600" height="200"></canvas>
        </section>
      </main>

      <footer>
        <small>Built with basic-statistics-calculator module, for the course 1DV610</small>
      </footer>
    </div>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
